
<% if @results.empty? %>
<div class="row">
  <div class="span12 divider">
    <h1>Four oh four Longitudinal Data not found!</h1>
    <p>For some reason, the run did not generate a report at the end. This is dumb, and I am dumb. I am sorry. Please take this gif in exchange.</p>
    <img src="http://images03.imikimi.com/image/1RJKa-10a-1.gif?height=400&scale=max&width=400"/>
  </div>
</div>
<% else %>
<div class="row">
  <div class="span12 divider">
    <h1>Longitudinal data <%= name_for_length_longitudinal params[:length] %></h1>
    <p>For this time window, we have a total of <%= @results.length %> datasets to compare across.</p>
    <h2>Executive Summary</h2>
    <p>Based on this time window, we expect the following statements to be true with an N of <%= @results.length %> samples:</p>
    <dl>
      <dt>Users</dt>
      <dd>There are approximately <%= @executive_summary[:estimated_population][:mean].to_i.delimited %> Users on Twitter (stdev=<%= @executive_summary[:estimated_population][:standard_deviation].to_i.delimited %>, N=<%= @executive_summary[:estimated_population][:n].to_i.delimited %>).</dd>
      <dd>Of these users, approximately <%= @executive_summary[:default_profile][:mean].to_i.delimited %> Users on Twitter have modified their profile's appearance in some way (stdev=<%= @executive_summary[:default_profile][:standard_deviation].to_i.delimited %>, N=<%= @executive_summary[:default_profile][:n].to_i.delimited %>, p=0.95).</dd>
      <dd>Approximately <%= @executive_summary[:invalid_accounts][:mean].to_i.delimited %> Users on Twitter are non-users; these accounts seem to be nil'ed out entirely from casual observation of these records (stdev=<%= @executive_summary[:invalid_accounts][:standard_deviation].to_i.delimited %>, N=<%= @executive_summary[:invalid_accounts][:n].to_i.delimited %>, p=0.95).</dd>
      <dd>On average, a normal Twitter User has posted <%= @executive_summary[:statuses_count][:mean].to_i.delimited %> statuses (stdev=<%= @executive_summary[:statuses_count][:standard_deviation].to_f.round(3) %>, N=<%= @executive_summary[:statuses_count][:n].to_i.delimited %>, p=0.95).</dd>
      <dd>On average, a normal Twitter User has <%= @executive_summary[:followers_count][:mean].to_i.delimited %> followers (stdev=<%= @executive_summary[:followers_count][:standard_deviation].to_i.delimited %>, N=<%= @executive_summary[:followers_count][:n].to_i.delimited %>, p=0.95).</dd>
      <dd>On average, a normal Twitter User has <%= @executive_summary[:friends_count][:mean].to_i.delimited %> friends (stdev=<%= @executive_summary[:friends_count][:standard_deviation].to_i.delimited %>, N=<%= @executive_summary[:friends_count][:n].to_i.delimited %>, p=0.95).</dd>
      <dd>On average, a normal Twitter User has <%= @executive_summary[:favourites_count][:mean].to_i.delimited %> favorite Tweets (stdev=<%= @executive_summary[:favourites_count][:standard_deviation].to_i.delimited %>, N=<%= @executive_summary[:favourites_count][:n].to_i.delimited %>, p=0.95).</dd>
      <dd>On average, a normal Twitter User appears on <%= @executive_summary[:listed_count][:mean].to_i.delimited %> lists (stdev=<%= @executive_summary[:listed_count][:standard_deviation].to_i.delimited %>, N=<%= @executive_summary[:listed_count][:n].to_i.delimited %>, p=0.95).</dd>
    </dl>
    <h2>Number Values</h2>
  </div>
  <% [:followers_count, :statuses_count, :favourites_count, :friends_count, :listed_count].each do |attribute| %>
  <div class="span12">
    <%= partial "/charts/time_series_quantifiable", :locals => {data: {:dataset => @results, :name => attribute}} %>      
  </div>
  <% end %>
  <div class="span12">
    <%= partial "/summary/partials/time_zone_longitudinal" %>      
  </div>
  <div class="span12">
    <%= partial "/summary/partials/language_longitudinal" %>      
  </div>
</div>
<% end %>